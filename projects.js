const objArr = {
    bouquet: {
        languages: ['all', 'React.js', 'JavaScript', 'Design'],
        thumbnail: {
            title: 'Bouq-A-Okay',
            src: 'assets/Gallery/Bouq-a-okay/BouqHomePage-min.png',
            description: 'React.js / JavaScript',
            alt: 'Bouq-A-Okay thumbnail.'
        },
        info: {
            title: 'Bouq-A-Okay',
            subHead: 'E-commerce Site',
            summary: `Bouq-A-Okay offers a unique way to pick flowers and build a Bouquet.
            As my first major React.js project there were many small hurtles to overcome.
            Most notably, learning effecient ways to pass state and props across the DOM posed a formidable challenge.`,
            url: 'https://bouq-a-okay.netlify.app/',
            gitHub: 'https://github.com/bubbster95/Bouquet_Okay'
        },
        images:[
            ['assets/Gallery/Bouq-a-okay/BouqHomePage-min.png',
            'Bouq-A-Okay home page for desktop.',
            'https://bouq-a-okay.netlify.app/'
            ],
            ['assets/Gallery/Bouq-a-okay/BouqHomeMobile-min.png',
            'Cart page of Bouq-A-Okay',
            'https://bouq-a-okay.netlify.app/'
            ],
            ['assets/Gallery/Bouq-a-okay/ChooseABouq-min.png',
            'Choose a Bouquet page.',
            'https://bouq-a-okay.netlify.app/'
            ],
            ['assets/Gallery/Bouq-a-okay/PickYOurPallet-min.png',
            'Pick your pallet section of the Design a Bouquet page.',
            'https://bouq-a-okay.netlify.app/'
            ],
            ['assets/Gallery/Bouq-a-okay/PickYourFlowers-min.png',
            'Pick your flowers section of the Design a Bouquet page.',
            'https://bouq-a-okay.netlify.app/'
            ]
        ]
    },
    disco: {
        languages: ['all', 'JavaScript', 'Design'],
        thumbnail: {
            title: 'Disco Dude',
            src: 'assets/Gallery/DiscoDude/DiscoDudeOnStage.png',
            description: 'JavaScript / Animation',
            alt: 'Disco Dude thumbnail'
        }, 
        info: {
            title: 'Disco Dude',
            subHead: 'Vanilla Javascript Browser Game',
            summary: `Using my background in animation allowed for fun graphics on an otherwise simple game.
            As my first large scale Javascript program this project taught me a lot.
            Most importantly I learned about timing and updating the DOM.`,
            url: 'https://disco-dude.netlify.app/',
            gitHub: 'https://github.com/bubbster95/DiscoDude'
        },
        images:[
            ['assets/Gallery/DiscoDude/DiscoDudeOnStage.png',
            'Screen shot of Disco Dude',
            'https://disco-dude.netlify.app'
            ],
            ['assets/Gallery/DiscoDude/disco-dude.gif',
            'Gif of dude dancing',
            'https://disco-dude.netlify.app'
            ],
            ['assets/Gallery/DiscoDude/Target.gif',
            'Gif of four targets',
            'https://disco-dude.netlify.app'
            ],
            ['assets/Gallery/DiscoDude/DiscoFloor.gif',
            'Gif of a disco floor',
            'https://disco-dude.netlify.app'
            ]
        ]
    },
    turner: {
        languages: ['all', 'JavaScript', 'Design'],
        thumbnail: {
            title: 'Wood Turner\'s Calculator',
            src: 'assets/Gallery/turners-calculator/WebVase.png',
            description: 'JavaScript / Design',
            alt: 'Wood Turners Calculator thumbnail.'
        },
        info: {
            title: 'Wood Turner\'s Calculator',
            subHead: 'A tool for calculating concentric rings',
            summary: `This tool is used to calculate the dimensions of trapizoids used in wood working.
            Easily the toughest part about carving segmented bowls is calculating the rings properly.
            The main hurdle for this project was creating blueprints to scale using pixel to inch conversions.`,
            url: 'https://wood-turners-calculator.netlify.app/',
            gitHub: 'https://github.com/bubbster95/segmented-ring-calculator'
        },
        images:[
            ['assets/Gallery/turners-calculator/WebVase.png',
            'Screen shot of Turner\'s Calculator web browser layout',
            'https://wood-turners-calculator.netlify.app/'
            ],
            ['assets/Gallery/turners-calculator/VaseMobile.png',
            'Screen shot of Turner\'s Calculator mobile browser layout',
            'https://wood-turners-calculator.netlify.app/'
            ],
            ['assets/Gallery/turners-calculator/WebBluePrints.png',
            'Screen shot of blueprints',
            'https://wood-turners-calculator.netlify.app/'
            ],
            ['assets/Gallery/turners-calculator/PrintPreview.png',
            'Screen shot of Trapezoides print preview',
            'https://wood-turners-calculator.netlify.app/'
            ]
        ]
    },
    scroll: {
        languages: ['all', 'React.js', 'JavaScript'],
        thumbnail: {
            title: 'Infinite Scroll React',
            src: 'assets/Gallery/InfiniteScroll/InfiniteScroll.png',
            description: 'React.js / JavaScript',
            alt: 'Infinite Scroll React thumbnail.'
        },
        info: {
            title: 'Infinite Scroll React',
            subHead: 'A first look at React',
            summary: `This project was to acomplish two goals.
            First, to begin learning React in a simple environment.
            Second, to create an infintely generated list of users with randomly generated profiles and names.`,
            url: 'https://wills-infinite-scroll.netlify.app/',
            gitHub: 'https://github.com/bubbster95/Infinte-Scroll'
        },
        images:[
            ['assets/Gallery/InfiniteScroll/InfiniteScroll.png',
            'Screen Shot of Infinite Scroll landng page',
            'https://wills-infinite-scroll.netlify.app/'
            ],
            ['assets/Gallery/InfiniteScroll/Profile 1.png',
            'Screen Shot of Infinite Scroll avatar 1',
            'https://wills-infinite-scroll.netlify.app/'
            ],
            ['assets/Gallery/InfiniteScroll/Profile2.png',
            'Screen Shot of Infinite Scroll avatar 2',
            'https://wills-infinite-scroll.netlify.app/'
            ]
        ]
    },
    oldPortfolio: {
        languages: ['all', 'JavaScript', 'Design'],
        thumbnail: {
            title: 'Old Portfolio Site',
            src: 'assets/Gallery/PortfolioSite/WillStilesSquare.png', 
            description: 'JavaScript / Design',
            alt: 'Old Portfolio Site thumbnail.'
        },
        info: {
            title: 'Portfolio Site Mark 1',
            subHead: 'Programming / Design portfolio',
            summary: `This is the first itiration of my personal porfolio using vanilla Javascript.
            The main Technical hurtle of this project was creating tiles generated from an object that open a corresponding panel.
            The elements inside the pannel are also object oriented.`,
            url: 'https://william-stiles.netlify.app',
            gitHub: 'https://github.com/bubbster95/Portfolio-Site'
        },
        images:[
            ['assets/Gallery/PortfolioSite/WillStilesSquare.png',
            'Portfolio Site Screen Shot'
            ],
            ['assets/Gallery/PortfolioSite/MobileFirst.png',
            'Mobile portfolio site'
            ],
            ['assets/Gallery/PortfolioSite/PanelWeb.png',
            'Responsive panel'
            ],
            ['assets/Gallery/PortfolioSite/MobilePanel.png',
            'Mobile panel'
            ],
            ['assets/Thumbnails/DiscoGif.gif',
            'Disco Dude sillohette gif'
            ]
        ]
    },
    motif: {
        languages: ['all', 'JavaScript', 'Design'],
        thumbnail: {
            title: 'Motif Magazine',
            src: 'assets/Gallery/Motif/FoodCover.jpg',
            description: 'JavaScript / Design',
            alt: 'Motif Magazine portfolio thumbnail.'
        },
        info: {
            title: 'Motif Magazine',
            subHead: 'Lead Design Portfolio',
            summary: `As a freelance designer for Motif I generated a total of 12 complete issues as Creative Director.
            My work for Motif continues as a freelance Web Developer.
            The challenge now is to merge my knowlege of programming and design to work with wordpress sites. `
        }, 
        images:[
            ['assets/Gallery/Motif/FoodCover.jpg',
            'Motif Food Issue Cover',
            'https://indd.adobe.com/view/9c26a979-cf26-45f9-96a9-9fcfd267d14d'
            ],
            ['assets/Gallery/Motif/CannabisEating.jpg',
            'Cannabis Issue Eating Spread',
            'https://indd.adobe.com/view/8720e976-0198-4b0b-9893-742b5e699749'
            ],
            ['assets/Gallery/Motif/TinyLobster.jpg',
            'Tiny Lobster back story',
            'https://indd.adobe.com/view/9c26a979-cf26-45f9-96a9-9fcfd267d14d'
            ],
            ['assets/Gallery/Motif/Centerspread.jpg',
            'Motif Spring guide centerspread',
            'https://indd.adobe.com/view/8a081028-feae-4e76-9c7b-81c4ba0f124a'
            ],
            ['assets/Gallery/Motif/AntarcticaSpread.jpg',
            'Motif Spring guide centerspread',
            'https://indd.adobe.com/view/f4444bf0-704e-4840-88c5-e25f223a1cf7'
            ],
            ['assets/Gallery/Motif/HotRods.jpg',
            'Hot Rod Photo Bash',
            'https://indd.adobe.com/view/81200c61-0434-4e1b-b15d-30dcbc61a7b0'
            ],
            ['assets/Gallery/Motif/WhaleGuitar.jpg',
            'Whale Guitar Photo Bash',
            'https://indd.adobe.com/view/f4444bf0-704e-4840-88c5-e25f223a1cf7'
            ]
        ]
    },
    khoo: {
        languages: ['all', 'Design'],
        thumbnail: {
            title: 'Khoo Design',
            src: 'assets/Thumbnails/KhooStyle.png',
            description: 'Design',
            alt: 'Khoo Design thumbnail'
        }, 
        info: {
            title: 'Khoo Design',
            subHead: 'Design Porfolio',
            summary: `I work for Khoo as a freelance Designer.
            My work spans from large format advertisments to small print collatoral such as table tents.
            The most challenging project was a complete overhaul of Khoo's dine in menu, consisting of nine pages packed with text.`
        },
        images:[
            ['assets/Gallery/Khoo/SundayKhoo.jpg',
            'Sunday Khoo table tent'
            ],
            ['assets/Gallery/Khoo/ThirstyThursday.jpg',
            'Thirsty Thursday table tent'
            ],
            ['assets/Gallery/Khoo/DinningMenuGray2.jpg',
            'Khoo Menu pg 2'
            ],
            ['assets/Gallery/Khoo/DinningMenuGray5.jpg',
            'Khoo Menu pg 5'
            ],
            ['assets/Gallery/Khoo/DinningMenuGray7.jpg',
            'Khoo Sushi menu'
            ],
            ['assets/Gallery/Khoo/DrinksGray1.jpg',
            'Khoo Special drinks menu'
            ],
            ['assets/Gallery/Khoo/DrinksGray2.jpg',
            'Khoo drinks menu'
            ]
        ]
    },
    animation: {
        languages: ['all', 'Design'],
        thumbnail: {
            title: 'Animation',
            src: 'assets/Gallery/DiscoDude/disco-dude.gif',
            description: 'Animation',
            alt: 'Animation Thumbnail'
        }, 
        info: {
            title: 'Animation',
            subHead: 'A portfolio of movement.',
            summary: `As a student I studied and created animations.
            Now I use animation for my own projects when I need to add some flair.
            Aditionally I have worked some freelance gigs as an animator.`
        },
        images:[
            ['assets/Gallery/DiscoDude/disco-dude.gif',
            'Gif of a Disco Dancer',
            'https://disco-dude.netlify.app'
            ],
            ['assets/Gallery/Animation/Venga Climb.mp4',
            'Venda Climbing comercial'
            ],
            ['assets/Gallery/Animation/Zakatana.mp4',
            'Zackatana trailer'
            ],
            ['assets/Gallery/Animation/AvacadoRun.mp4',
            'Avacoda Run Cycle'
            ]
        ]
    },
};

// Fills project section with project tiles
populate = () => {
    let projects = document.querySelector('.filtered-projects');
    let objKeys = Object.keys(objArr);

    // Create project tile for each object key
    objKeys.map(project => {
        // Container
        let projectWrapper = document.createElement('DIV');
        projectWrapper.className = 'project-wrapper';
        projectWrapper.id = project;
        projects.appendChild(projectWrapper);

        // Image
        let projectImage = document.createElement('Div');
        projectImage.className = 'project-image';
        projectImage.style.backgroundImage = `url(${objArr[project].thumbnail.src})`;
        projectImage.alt = `${objArr[project].thumbnail.alt}`;
        projectWrapper.appendChild(projectImage);

        // Title
        let projectTitle = document.createElement('H3');
        projectTitle.className = 'project-title';
        projectTitle.innerHTML = `${objArr[project].thumbnail.title}`;
        projectWrapper.appendChild(projectTitle)

        // Text
        let projectDescription = document.createElement('P');
        projectDescription.className = 'project-description';
        projectDescription.innerHTML = `${objArr[project].thumbnail.description}`;
        projectWrapper.appendChild(projectDescription);

        // Button
        let viewProject = document.createElement('BUTTON');
        viewProject.className = 'view-project-button';
        viewProject.innerHTML = 'View Project';
        viewProject.addEventListener('click', () => {modal(project, projects)})
        projectWrapper.appendChild(viewProject);

        // Hover Events
        let items = [projectWrapper, projectImage, projectTitle, viewProject];
        items.map(item => {item.addEventListener('mouseover', addVisibility)})
        projectWrapper.addEventListener('mouseout', removeVisibilty)
    })
}

// Hover over project tile
addVisibility = (e) => {
    let parent = e.target.offsetParent
    let children = parent.children
    children[0].style.opacity = 0;
    for (let i=1; i < 4; i++) {
        children[i].className+= ' hover' 
    }
}

// Hover off project tile
removeVisibilty = (e) => {
    let parent = e.target.offsetParent
    let children = parent.children
    children[0].style.opacity = 100;
    for (let i=1; i < 4; i++) {
        children[i].classList.remove('hover') 
    }
}

// Populate / Toggle modal from object information
modal = (project, projects) => {

    // If modal exists toggle visibility
    if (document.getElementById(project + '-modal')) {
        showSlides(slideIndex = 1, document.getElementById(project + '-modal'))
        document.getElementById(project + '-close-box').style.display = 'block';
        document.getElementById(project + '-modal').style.display = 'block';
    } else { // Generate modal and fill with content
        let modal = document.createElement('DIV');
        modal.className = 'modal';
        modal.id = project + '-modal';
        projects.appendChild(modal);

        // Close Modal Button
        let closeBox = document.createElement('DIV');
        closeBox.className = 'close-box';
        closeBox.id = project + '-close-box';
        closeBox.addEventListener('click', () => {closeModal(project)})
        projects.appendChild(closeBox)

        // Close by clicking outsite box
        let close = document.createElement('BUTTON');
        close.className = 'close-modal';
        close.innerHTML = 'X';
        close.addEventListener('click', () => {closeModal(project)});
        modal.appendChild(close);


        // Carosel Slider
        let carosel = document.createElement('DIV');
        carosel.className = 'carosel';
        modal.appendChild(carosel)

        // Loop thorugh available images
        let modalImages = objArr[project].images;
        modalImages.map((image, index) => {
            let newImage = document.createElement('IMG');
            newImage.className = 'modal-slide-image';
            newImage.src = image[0];
            newImage.alt = image[1];
            newImage.id =  index;
            carosel.appendChild(newImage);
        })

        let previousSlide = document.createElement('DIV');
        previousSlide.className = 'previous-slide';
        previousSlide.innerHTML = '<';
        previousSlide.addEventListener('click', ()=> {plusSlide(-1, modal)});
        carosel.appendChild(previousSlide);

        let nextSlide = document.createElement('DIV');
        nextSlide.className = 'next-slide';
        nextSlide.innerHTML = '>';
        nextSlide.addEventListener('click', ()=> {plusSlide(1, modal)});
        carosel.appendChild(nextSlide);

        // Text Box 
        let textBox = document.createElement('DIV');
        textBox.className = 'modal-text';
        modal.appendChild(textBox)

        let title = document.createElement('H1');
        title.className = 'modal-title'
        title.innerHTML = objArr[project].info.title;
        textBox.appendChild(title)

        let subHead = document.createElement('H3');
        subHead.className = 'modal-sub';
        subHead.innerHTML = objArr[project].info.subHead;
        textBox.appendChild(subHead)

        let summary = document.createElement('P');
        summary.className = 'modal-summary';
        summary.innerHTML = objArr[project].info.summary
        textBox.appendChild(summary)

        // Create site link button if possible
        if (objArr[project].info.url){
            let viewSite = document.createElement('BUTTON');
            viewSite.className = 'modal-view-site';
            viewSite.innerHTML = 'View Site';
            viewSite.addEventListener('click', () => { goToLink(objArr[project].info.url) });
            textBox.appendChild(viewSite);
        }
        // Create Github link button if possible
        if (objArr[project].info.gitHub) {
            let veiwGit = document.createElement('BUTTON');
            veiwGit.className = 'modal-view-git';
            veiwGit.innerHTML = 'View GitHub';
            veiwGit.addEventListener('click', () => { goToLink(objArr[project].info.gitHub) });
            textBox.appendChild(veiwGit);
        }
        showSlides(slideIndex = 1, modal)
    }
}

/* modal Controls */
let slideIndex = 1;

plusSlide = (n, modal) => { showSlides(slideIndex += n, modal); }

showSlides = (n, modal) => {
    // Change Slides
    let slides = modal.getElementsByClassName("modal-slide-image");
    if (n > slides.length) {slideIndex = 1} 
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove('current-slide') 
    }
    slides[slideIndex-1].className+= ' current-slide';
}
/* End modal Controls */

closeModal = (project) => {
    document.getElementById(project + '-close-box').style.display = 'none';
    document.getElementById(project + '-modal').style.display = 'none';
}

goToLink = (link) => {
    window.open(link, '_blank');
}